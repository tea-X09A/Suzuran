# 包括的調査・分析スラッシュコマンド

与えられたタスクに対して修正は行わず、徹底的な調査と分析のみを実行します。

## 引数
- `$1`: 調査・分析するタスクまたは対象の詳細説明

## 実行プロセス

### Phase 1: プロジェクト構造分析（並行実行）
```
以下のサブエージェントを Task tool で並行実行：

1. directory-analyzer
   - プロジェクト全体の構造を分析
   - ${1}に関連するファイル・ディレクトリの特定
   - アーキテクチャパターンの把握

2. dependency-analyzer
   - ${1}に関連するファイル間の依存関係を分析
   - インポート/エクスポート関係の可視化
   - 循環依存の検出

3. config-file-investigator
   - 設定ファイルの現状分析
   - ${1}に関連する設定項目の特定
   - 設定の整合性確認
```

### Phase 2: コード品質・技術負債分析（並行実行）
```
以下のサブエージェントを Task tool で並行実行：

1. code-quality-analyzer
   - 技術的負債の特定
   - アンチパターンの検出
   - CLAUDE.md品質基準への準拠度確認

2. code-duplication-detector
   - 重複コードパターンの特定
   - リファクタリング候補の抽出

3. typescript-type-coverage-analyzer
   - TypeScript型カバレッジの分析
   - any型の使用箇所特定
   - 型安全性の評価

4. performance-issue-detector
   - パフォーマンスボトルネックの特定
   - メモリリークの検出
   - レンダリング問題の分析
```

### Phase 3: React・フック・状態管理分析（並行実行）
```
以下のサブエージェントを Task tool で並行実行：

1. react-hooks-optimizer
   - Reactフックの使用パターン分析
   - 最適化の機会特定（分析のみ）
   - useEffect依存関係の問題検出

2. hooks-integration-specialist
   - カスタムフックの重複パターン分析
   - 統合可能なフックの特定

3. large-scale-refactoring
   - コードベース全体のアーキテクチャ分析
   - リファクタリング必要箇所の特定
   - 設計パターンの評価
```

### Phase 4: コンポーネント・スタイル分析（並行実行）
```
以下のサブエージェントを Task tool で並行実行：

1. component-splitter
   - 巨大コンポーネントの特定
   - 単一責任原則違反の検出
   - 分割候補の提案（分析のみ）

2. css-modules-consolidator
   - CSS Modulesの使用状況分析
   - スタイルの重複検出
   - 命名規則の遵守状況確認

3. props-type-optimizer
   - React Props型の分析
   - 最適化可能な型定義の特定
   - 型安全性の改善点抽出
```

### Phase 5: API・型定義分析（並行実行）
```
以下のサブエージェントを Task tool で並行実行：

1. api-interface-unifier
   - API インターフェースの一貫性分析
   - レスポンス形式の統一性確認
   - エラーハンドリングパターンの評価

2. typescript-type-consolidator
   - 型定義の統合可能性分析
   - 重複する型定義の特定
   - 型階層の最適化候補抽出

3. typescript-type-enhancer
   - 型定義の強化必要箇所特定
   - any型の置換候補提案
   - 型注釈の改善点抽出
```

### Phase 6: テスト・ビルド・パフォーマンス分析（並行実行）
```
以下のサブエージェントを Task tool で並行実行：

1. test-coverage-analyzer
   - テストカバレッジの現状分析
   - テスト不足箇所の特定
   - テスト品質の評価

2. bundle-size-optimizer
   - バンドルサイズの分析
   - 大きな依存関係の特定
   - コード分割の最適化候補抽出

3. build-success-verifier
   - ビルドプロセスの現状確認
   - 潜在的なビルドエラーの検出
   - ビルド時間の分析
```

### Phase 7: 統合レポート作成
```
全ての分析結果を統合し、以下の形式でレポートを作成：

1. 現状サマリー
   - プロジェクトの健全性評価
   - 主要な問題点の概要

2. 詳細分析結果
   - 各分野の詳細な分析結果
   - 具体的な問題箇所の特定

3. 改善提案
   - 優先度別の改善案提案
   - 実装の難易度評価
   - 影響範囲の分析

4. 次のアクション推奨
   - 実装すべき機能の提案
   - リファクタリング計画の提案
```

## 実行方法
```
/analyze [調査・分析したい対象の説明]
```

## 使用例
```
/analyze ダークモード機能を実装するために必要な調査を行ってください

/analyze 現在のコードベースでパフォーマンス問題がないか詳細に分析してください

/analyze Reactコンポーネントの設計パターンと改善点を調査してください

/analyze TypeScript型定義の現状と型安全性の改善可能性を分析してください

/analyze 状態管理（Zustand）の使用状況と最適化の余地を調査してください

/analyze バックログ機能の実装状況と拡張可能性を分析してください
```

## 調査範囲制限
- **修正は一切行いません** - 分析・調査・提案のみ
- 読み取り専用操作のみ実行
- ファイルの作成・変更・削除は行わない
- 設定変更やライブラリインストールは行わない

## 出力形式
- 構造化された分析レポート
- 具体的なファイル名・行番号を含む問題箇所の特定
- 優先度付きの改善提案リスト
- 実装の複雑さと影響範囲の評価
- 次ステップの具体的な推奨事項

## エラーハンドリング
- 分析中にアクセスできないファイルがある場合は詳細をレポート
- 不完全な分析結果の場合は制限事項を明記
- 複数の分析で矛盾する結果が出た場合は詳細を説明